<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Import jquery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <!-- jquery logic -->
  <script>
    $(document).ready(function () {
      // Focus search box on type
      $(document).keypress(function (event) {
        if (!$("#search-body").is(":focus")) {
          $("#search-body").val(String.fromCharCode(event.which)).focus();
        }
      });

      // Slideshow
      let slide_index = 0;
      slide_index = showSlide(slide_index);

      $(".slide-next").click(function () {
        slide_index = showSlide(slide_index + 1);
      });

      $(".slide-prev").click(function () {
        slide_index = showSlide(slide_index - 1);
      });
    });

    function showSlide(n) {
      let slide_index = n;
      if (n >= $(".slideshow").length) {
        slide_index = 0;
      }
      if (n < 0) {
        slide_index = $(".slideshow").length - 1;
      }
      $(".slideshow").css("display", "none");
      $(".slide-dot").removeClass("active");
      $(`#slide${slide_index}`).css("display", "block").addClass("active")
      return slide_index;
    }
  </script>

  {% load static %}
  <!-- <link rel="stylesheet" href={% static 'core/style.css' %} /> -->
  <link rel="stylesheet" href={% static 'core/index.css' %} />
  <link rel="stylesheet" href={% static 'core/slideshow.css' %} />
  <title>Social Events</title>
</head>

<body>

  <header>
      <a href={% url 'index' %}><img class="logo" src={% static 'core/logo.png' %}></a>
    <!-- TODO: form handling -->
    <form>
      <input class="searchbox" type="text" name="search-header" placeholder="Search for events...">
    </form>
    <a href={% url 'create' %}>Create an event</a>
    <a href={% url 'login' %}>Login</a>
  </header>
  <hr>
  
  <div id="slideshow-container">
    <!-- 
      Example divs follow
      Will be removed and generated by django
     -->
    <div class="slideshow fade" id="slide0">
      <div class="slide-number">1 / 3</div>
      <img src={% static 'core/logo.png' %} style="width:100%">
      <div class="slide-text">Default Slide</div>
    </div>

    <div class="slideshow fade" id="slide1">
      <div class="slide-number">2 / 3</div>
      <img src={% static 'core/logo.png' %} style="width:100%">
      <div class="slide-text">Second Slide</div>
    </div>

    <div class="slideshow fade" id="slide2">
      <div class="slide-number">3 / 3</div>
      <img src={% static 'core/logo.png' %} style="width:100%">
      <div class="slide-text">Third Slide</div>
    </div>

    <a class="slide-prev">&#10094;</a>
    <a class="slide-next">&#10095;</a>
  </div>

  <hr>

  <form>
    <input type="text" id="search-body" name="search-body" placeholder="Search...">
    <input type="button" id="login" name="login" value="Sort by"></br>
    <input type="text" id="filter" name="filter" placeholder="Filter...">
  </form>

  <!-- 
    Placeholder events - not in final form
   -->
  <table id="events">
    <tr>
      <td><a href={% url 'event' %}><img src={% static 'core/fireworks.jpg' %} style="width:500px;height: auto;">
          <p>Example event</p>
        </a></td>
      <td><a href={% url 'event' %}><img src={% static 'core/fireworks.jpg' %} style="width:500px;height: auto;">
          <p>Example event</p>
        </a></td>
      <td><a href={% url 'event' %}><img src={% static 'core/fireworks.jpg' %} style="width:500px;height: auto;">
          <p>Example event</p>
        </a></td>
    </tr>
    <tr>
      <td><a href={% url 'event' %}><img src={% static 'core/fireworks.jpg' %} style="width:500px;height: auto;">
          <p>Example event</p>
        </a></td>
      <td><a href={% url 'event' %}><img src={% static 'core/fireworks.jpg' %} style="width:500px;height: auto;">
          <p>Example event</p>
        </a></td>
      <td><a href={% url 'event' %}><img src={% static 'core/fireworks.jpg' %} style="width:500px;height: auto;">
          <p>Example event</p>
        </a></td>
    </tr>
    <tr>
      <td><a href={% url 'event' %}><img src={% static 'core/fireworks.jpg' %} style="width:500px;height: auto;">
          <p>Example event</p>
        </a></td>
      <td><a href={% url 'event' %}><img src={% static 'core/fireworks.jpg' %} style="width:500px;height: auto;">
          <p>Example event</p>
        </a></td>
      <td><a href={% url 'event' %}><img src={% static 'core/fireworks.jpg' %} style="width:500px;height: auto;">
          <p>Example event</p>
        </a></td>
    </tr>
  </table>
  <!-- TODO: Forward and back pagination buttons here -->
</body>

</html>